<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Stability · EcoNetPostProcessing.jl</title><meta name="title" content="Stability · EcoNetPostProcessing.jl"/><meta property="og:title" content="Stability · EcoNetPostProcessing.jl"/><meta property="twitter:title" content="Stability · EcoNetPostProcessing.jl"/><meta name="description" content="Documentation for EcoNetPostProcessing.jl."/><meta property="og:description" content="Documentation for EcoNetPostProcessing.jl."/><meta property="twitter:description" content="Documentation for EcoNetPostProcessing.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">EcoNetPostProcessing.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Stability</a><ul class="internal"><li><a class="tocitem" href="#Simulating-a-simple-community"><span>Simulating a simple community</span></a></li><li><a class="tocitem" href="#Computing-the-community-Jacobian"><span>Computing the community Jacobian</span></a></li><li><a class="tocitem" href="#Sensitivity-matrix"><span>Sensitivity matrix</span></a></li><li><a class="tocitem" href="#Secondary-extinctions-and-robustness"><span>Secondary extinctions and robustness</span></a></li></ul></li><li><a class="tocitem" href="../utils/">Utilities</a></li><li><a class="tocitem" href="../docstrings/">Functions</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Stability</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Stability</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/econetoolbox/EcoNetPostProcessing.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Stability"><a class="docs-heading-anchor" href="#Stability">Stability</a><a id="Stability-1"></a><a class="docs-heading-anchor-permalink" href="#Stability" title="Permalink"></a></h1><p>This section covers how to analyse the stability of a community once simulated with <a href="https://econetoolbox.github.io/EcologicalNetworksDynamics.jl/">EcologicalNetworksDynamics</a> (<a href="../references/#lajaaiti2025ecologicalnetworksdynamicsjl">Lajaaiti <em>et al.</em>, 2025</a>). Stability can be notoriously measured in many different ways (<a href="../references/#grimm1997babel">Grimm and Wissel, 1997</a>). We provide in what follows an overview of the different stability metrics available from our package. We have aimed to implement the most common and used stability metrics.</p><p>To begin we need to import the companion package.</p><pre><code class="language-julia hljs">using EcoNetPostProcessing # Companion package - stability functions.</code></pre><h2 id="Simulating-a-simple-community"><a class="docs-heading-anchor" href="#Simulating-a-simple-community">Simulating a simple community</a><a id="Simulating-a-simple-community-1"></a><a class="docs-heading-anchor-permalink" href="#Simulating-a-simple-community" title="Permalink"></a></h2><p>First, let&#39;s consider a simple community of a consumer feeding on a producer.</p><pre><code class="language-julia hljs">using EcologicalNetworksDynamics

fw = Foodweb([:consumer =&gt; :producer])
m = default_model(fw)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Model <span class="sgr90">(alias for EcologicalNetworksDynamics.Framework.System{&lt;internals&gt;})</span> with 17 components:
  - Species: 2 (:consumer, :producer)
  - Foodweb: 1 link, 1 producer, 1 consumer, 1 prey, 1 top.
  - BodyMass: [10.0, 1.0]
  - Metabolic classes: [:invertebrate, :producer]
  - Growth rate: [·, 1.0]
  - Carrying capacity: [·, 1.0]
  - Producers competition: 1.0
  - &lt;LogisticGrowth&gt;
  - Efficiency: 0.45
  - Maximum consumption: [8.0, ·]
  - Hill Exponent: 2.0
  - Consumer preferences: 1.0
  - Intra-specific interference: [·, ·]
  - Half-saturation density: [0.5, ·]
  - &lt;BioenergeticResponse&gt;
  - Metabolism: [0.1765751761097696, 0.0]
  - Mortality: [0.0, 0.0]</code></pre><p>Before going further, we can check species indices, which is going to useful for subsequent steps.</p><pre><code class="language-julia hljs">m.species.index</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">OrderedCollections.OrderedDict{Symbol, Int64} with 2 entries:
  :consumer =&gt; 1
  :producer =&gt; 2</code></pre><p>We see that species 1 is the consumer, and species 2 is the producer. We can simulate the dynamic of this simple model to find its steady-state.</p><pre><code class="language-julia hljs">B0 = [1, 1] # Initial biomass.
sol = simulate(m, B0, 1_000)
Beq = sol[end]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Float64}:
 0.3906391515774786
 0.1889608405926289</code></pre><p>At steady-state the consumer has a biomass near 0.39, and the producer has a biomass near 0.18.</p><h2 id="Computing-the-community-Jacobian"><a class="docs-heading-anchor" href="#Computing-the-community-Jacobian">Computing the community Jacobian</a><a id="Computing-the-community-Jacobian-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-the-community-Jacobian" title="Permalink"></a></h2><p>Many stability metrics are derived from the Jacobian of the dynamical system. The Jacobian is simply a matrix whose elements specifies how species behave in face of a small disturbance. It tells for example if species are prone to go back quickly to their undisturbed state or, on the contrary, if species tend to go away.</p><p>We can compute the Jacobian of the community previously simulated. To do so, we need to specify two arguments:</p><ul><li><code>m</code> specifying the model</li><li><code>B</code> the vector of biomass where to evaluate the jacobian</li></ul><p>Most of the time <code>B</code> is going to be species biomass at equilibrium, as the Jacobian is particularly useful and relevant to perform the stability analysis near an equilibrium.</p><p>In our setting, we have</p><pre><code class="language-julia hljs">j = jacobian(m, Beq)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2×2 Matrix{Float64}:
 -3.49837e-5   0.638701
 -0.392312    -0.797258</code></pre><p>Various stability metrics can be derived from the Jacobian (<a href="../references/#arnoldi2018how">Arnoldi <em>et al.</em>, 2018</a>). The most common is by far the asymptotic resilience, formally defined as</p><p class="math-container">\[\text{resilience} = \max_i \Re(\lambda_i(J))\]</p><p>where <span>$\lambda_i$</span> denote the eigenvalues of the Jacobian <span>$J$</span>.</p><p>We can compute the <a href="../docstrings/#EcoNetPostProcessing.resilience-Tuple{AbstractMatrix}"><code>resilience</code></a> of the system with</p><pre><code class="language-julia hljs">resilience(j)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-0.39864659366207333</code></pre><p>We expect a negative value, as we have seen that the equilibrium is stable. The more negative the resilience, the more stable the community is.</p><p>Another common stability metric derived from the Jacobian, that is increasingly used is the community reactivity. While the resilience gives the long-term recovery rate of the community, the <a href="../docstrings/#EcoNetPostProcessing.reactivity-Tuple{AbstractMatrix}"><code>reactivity</code></a> informs on the contrary on the short-term recovery rate (<a href="../references/#neubert1997alternatives">Neubert and Caswell, 1997</a>). It is formally defined as</p><p class="math-container">\[\text{reactivity} = \max_i \lambda_i (\frac{J + J^T}{2})\]</p><p>It more intuitively corresponds to the degree to which a disturbance can be amplified in the worst case scenario. It can be computed with</p><pre><code class="language-julia hljs">reactivity(j)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.018568232157743423</code></pre><p>A positive value means that the system can go away from its equilibrium after a disturbance, before eventually recovering.</p><h2 id="Sensitivity-matrix"><a class="docs-heading-anchor" href="#Sensitivity-matrix">Sensitivity matrix</a><a id="Sensitivity-matrix-1"></a><a class="docs-heading-anchor-permalink" href="#Sensitivity-matrix" title="Permalink"></a></h2><p>While the Jacobian describes the community recovery near its equilibrium, after an instantaneous disturbance, it does not capture how species respond to sustained change in environmental conditions, such as an increase in mortality. The response to this type of disturbances (hereafter &#39;press&#39;) is captured by the <em>sensitivity matrix</em>. Elements of the sensitivity matrix for instance quantifies how an increase is species mortality affects the biomass of another species (<a href="../references/#novak2016characterizing">Novak <em>et al.</em>, 2016</a>). The sensitivity matrix is simply the inverse of the interaction matrix. Because in our model interactions are density-dependent, the vector of species biomass (where to evaluate interactions) should be specified.</p><pre><code class="language-julia hljs">A = get_interaction(m, Beq)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2×2 Matrix{Float64}:
  2.40286e-17   1.63502
 -2.07615      -4.21924</code></pre><p>Formally, the interaction coefficients are defined as</p><p class="math-container">\[A_{ij} = \frac{\partial (\frac{1}{B_i}\frac{\text{d} B_i}{\text{d}t})}{\partial B_j}\]</p><p>that is the partial derivative of the growth rate of species <span>$i$</span> relative to a change in biomass of species <span>$j$</span>.</p><p>In our toy example, we see that species 2 (producer) is self-regulated (<code>A[2, 2] &lt; 0</code>). Moreover because species 1 feed on species 2 it receives a positive interaction (<code>A[1, 2]</code>), while species 2 receives a negative interaction (<code>A[2, 1]</code>). The sensitivity matrix can be directly computed</p><p>The sensivitiy matrix, being the inverse of the interaction matrix, informs on the inverse relationship</p><p class="math-container">\[S_{ij} = \frac{\partial B_i^\text{eq}}{\partial (\frac{1}{B_j}\frac{\text{d}B_j}{\text{d}t})}\]</p><p>that is how species equilibrium changes in response to variation in species growth rates. For example, how species biomass respond to an increase in mortality in other species.</p><pre><code class="language-julia hljs">S = sensitivity(m, Beq)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2×2 Matrix{Float64}:
  1.24295    0.48166
 -0.611615  -7.0786e-18</code></pre><p>We see that an increase in the producer mortality should not affect its biomass (<code>S[2, 2]=0</code>), while it should decrease the biomass of the consumer (<code>S[1, 2]&gt;0</code>).</p><pre><code class="language-julia hljs">m.d[2] = 0.1 # Was set to 0 before.
Bnew = simulate(m, Beq, 1_000).u[end]
Bnew .- Beq</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Float64}:
 -0.04819969923090567
 -9.905507771607036e-6</code></pre><p>The sensitivity matrix can notably used to compute species <a href="../docstrings/#EcoNetPostProcessing.resistance-Tuple{Model, AbstractVector}"><code>resistance</code></a>. Resistance quantifies how species respond to disturbance in others. Formally it is defined as</p><p class="math-container">\[\text{resistance} = \frac{\Delta B_i}{\Delta d_i}\]</p><p>that is the ratio of the change in species biomass in response normalized by its increase in mortality rate.</p><pre><code class="language-julia hljs">resistance(m, Beq)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Float64}:
 -1.72460740470094
  0.611614645121864</code></pre><p>Here resistance is derived from the sensitivity matrix, which assumes a small disturbance so that nonlinearities can be neglected. But resistance can be also computed from simulation with</p><pre><code class="language-julia hljs">resistance_simulation(m, Beq)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{Any}:
 -1.6854532283522456
  0.5774669943530033</code></pre><p>We see first that output values are close to the one returned <a href="../docstrings/#EcoNetPostProcessing.resistance-Tuple{Model, AbstractVector}"><code>resistance</code></a>. The slight difference is explained by the nonlinearities of the species response which is not accounted for when using <a href="../docstrings/#EcoNetPostProcessing.resistance-Tuple{Model, AbstractVector}"><code>resistance</code></a>. Furthermore, we see that species (that is, the consumer) is less resistant than the plant it feeds on (species 2). Ecologically speaking, this can be understood by the fact that when the mortality of both species increase the plant benefit from a release of the feeding pressure which offset its biomass loss. On the contrary, the consumer suffers even more as in addition of the increase in its mortality rate it also perceives a reduction in the amount of the plant it feeds on as the mortality of the plant also increases. In short, the difference in resistance value between two species translate their asymmetric relationship.</p><p>Both functions, <a href="../docstrings/#EcoNetPostProcessing.resistance-Tuple{Model, AbstractVector}"><code>resistance</code></a>, <a href="../docstrings/#EcoNetPostProcessing.resistance_simulation-Tuple{Model, AbstractVector}"><code>resistance_simulation</code></a> have multiple keyword arguments to specify which species is affected by the disturbance the response of which species should be measured, and if the measure should be aggregated (averaged) at the community level.</p><h2 id="Secondary-extinctions-and-robustness"><a class="docs-heading-anchor" href="#Secondary-extinctions-and-robustness">Secondary extinctions and robustness</a><a id="Secondary-extinctions-and-robustness-1"></a><a class="docs-heading-anchor-permalink" href="#Secondary-extinctions-and-robustness" title="Permalink"></a></h2><p>Another set of stability metrics focus on secondary extinctions (or cascading extinctions) (<a href="../references/#keyes2024synthesising">Keyes <em>et al.</em>, 2024</a>). Secondary extinctions measure the number of extinctions following the extinction of a first species. It informs on the importance, or more specifically the &#39;keystone-ness&#39; (<a href="../references/#li2025body">Li <em>et al.</em>, 2025</a>), of that species. If the extinction of that species result in many secondary extinctions, it means that the species is key for the community (or is a keystone species) as its presence allows many other species to coexist. On the contrary, if the number of secondary extinctions is null it means that the species is less important (regarding the community diversity at least).</p><p>In our toy example we can compute <a href="../docstrings/#EcoNetPostProcessing.secondary_extinctions-Tuple{Model, Integer, AbstractVector}"><code>secondary_extinctions</code></a> as follow</p><pre><code class="language-julia hljs">secondary_extinctions(m, 1, Beq) # Species 1 is set extinct.</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Int64[]</code></pre><pre><code class="language-julia hljs">secondary_extinctions(m, 2, Beq) # Species 2 is set extinct.</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1-element Vector{Int64}:
 1</code></pre><p>We see that the extinction of the consumer leads to no secondary extinction, while the extinction of the plant leads to the extinction of the consumer that depends on it.</p><p>We can compute at the level of the community, the extent to which a community is prone to secondary extinctions if a species goes extinct. This stability measure is given by the <a href="../docstrings/#EcoNetPostProcessing.robustness-Tuple{Model}"><code>robustness</code></a>. It is defined as the inverse of the number of secondary extinction we can expect. In our example, we have seen that we have two possibilities : </p><ol><li>The plant goes extinct first and we have one secondary extinction</li><li>The consumer goes extinct first and we have no secondary extinction</li></ol><p>Therefore we expect a robustness value close to </p><p class="math-container">\[\text{robustness}_\text{exp} = (\frac{1 + 0}{2})^{-1} = 2\]</p><p>We can check this numerically with</p><pre><code class="language-julia hljs">robustness(m)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2.0</code></pre><p>We do observe a value close to 2. The value is not exact because the computation is performed on a set of random extinction sequence, increasing this number with <code>n_rep</code> should result in the convergence of the robustness value towards 2 in this case.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../utils/">Utilities »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 16 July 2025 10:50">Wednesday 16 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
